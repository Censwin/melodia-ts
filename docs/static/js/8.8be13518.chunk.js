(this["webpackJsonpmelodia-ts"]=this["webpackJsonpmelodia-ts"]||[]).push([[8],{144:function(e,t,c){"use strict";c.r(t);var r=c(18),n=c(0),s=c(28),a=c(13),l=c(139),i=c(31),u=c(9),o=c(29),j=c(6),f=c(1);t.default=function(){var e=Object(n.useState)(!0),t=Object(r.a)(e,2),c=t[0],b=t[1],d=Object(a.g)(),p=Object(a.h)(),O=Object(s.c)(),h=Object(s.d)((function(e){return e.Singer})),x=h.artist,y=h.songsOfArtist,g=Object(n.useRef)(null),m=Object(n.useRef)(null),k=Object(n.useRef)(null),N=Object(n.useRef)(null),v=Object(n.useRef)(0),R=Object(n.useRef)(null),w=Object(n.useRef)(null),C=Object(n.useRef)(null),S=Object(u.j)("transform");Object(n.useEffect)((function(){O({type:o.c,payload:{id:p.id}})}),[p.id]),Object(n.useEffect)((function(){if(m.current&&k.current&&R.current&&N.current){var e=m.current.offsetHeight;k.current.style.top="".concat(e-5,"px"),v.current=e,R.current.style.top="".concat(e-5,"px"),N.current.refresh()}}),[y]);var E=Object(n.useCallback)((function(e){if(m.current&&k.current&&R.current&&N.current&&w.current&&C.current){var t=v.current,c=e.y,r=Math.abs(c/t),n=-(t-5)+w.current.offsetHeight;c>0?(m.current.style[S]="scale(".concat(1+r,")"),R.current.style.top="".concat(t-5+c,"px")):c>=n?(R.current.style.top="".concat(t-5+c,"px"),m.current.style.paddingTop="75%",m.current.style.height="0",m.current.style.zIndex="1",c>=n+C.current.clientHeight&&(C.current.style[S]="translate3d(0, ".concat(c,"px, 0)"),C.current.style.opacity="".concat(1-r))):c<n&&(m.current.style.height="".concat(w.current.offsetHeight,"px"),m.current.style.paddingTop="0",m.current.style.zIndex="100")}}),[]);return Object(f.jsx)(l.a,{nodeRef:g,in:c,timeout:300,classNames:"common-fadeInUp",unmountOnExit:!0,appear:!0,onExited:d.goBack,children:Object(f.jsxs)("section",{className:"singer-container",children:[Object(f.jsx)(i.c,{title:"",className:"singer-header",handleClick:function(){return b(!1)},ref:w}),Object(f.jsxs)("article",{className:"img-wrapper",style:{backgroundImage:"url(".concat(x.picUrl,"?param=300x300)")},ref:m,children:[Object(f.jsx)("div",{className:"filter"}),Object(f.jsxs)("div",{className:"singer-info",ref:C,children:[Object(f.jsxs)("div",{className:"info-left",children:[Object(f.jsx)("h1",{children:x.name}),Object(f.jsx)("p",{children:"175.5 \u4e07 \u7c89\u4e1d"})]}),Object(f.jsx)("div",{children:Object(f.jsx)("span",{className:"mark-btn",children:"\u5173\u6ce8"})})]})]}),Object(f.jsx)("article",{className:"Bglayer",ref:R}),Object(f.jsx)("article",{className:"SingerSongwrapper",ref:k,children:Object(f.jsx)(i.g,{ref:N,onScroll:E,children:Object(f.jsx)(i.b,{songs:y,onClickCallback:function(e,t){O({type:j.a,payload:t})},showPlayAll:!0,onClickPlayAll:function(){O({type:j.a,payload:y})}})})})]})})}}}]);
//# sourceMappingURL=8.8be13518.chunk.js.map