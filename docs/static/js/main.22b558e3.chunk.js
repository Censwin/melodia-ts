(this["webpackJsonpmelodia-ts"]=this["webpackJsonpmelodia-ts"]||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"f",(function(){return I})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return N})),n.d(t,"e",(function(){return E}));var r=n(11),c=n.n(r),a=n(0),s=n.n(a),i=n(1),u=function(e){var t=e.title,n=e.extra,r=e.className,a=e.headerClassName,s=e.headerStyle,u=e.bodyClassName,o=e.bodyStyle,l=c()("card-wrapper",r),d=c()("card-header",a),p=c()("card-body",u);return Object(i.jsxs)("div",{className:l,children:[Object(i.jsxs)("div",{className:d,style:s,children:[Object(i.jsx)("div",{className:"card-header-title",children:t}),Object(i.jsx)("div",{className:"card-header-extra",children:n})]}),Object(i.jsx)("div",{className:p,style:o,children:e.children})]})},o=n(14),l=n(19),d=n(71),p=function(e){var t=e.className,n=e.theme,r=c()("my-icon",t,Object(l.a)({},"my-icon-".concat(n),n));return Object(i.jsx)(d.a,Object(o.a)(Object(o.a)({},e),{},{className:r}))},f=n(18),b=n(42);n(89);b.c.use([b.b,b.a]);var j=function(e){var t=Object(a.useState)(),n=Object(f.a)(t,2),r=n[0],c=n[1],s=e.imgList;return Object(a.useEffect)((function(){if(0!==s.length&&!r){var e=new b.c(".slider-container",{loop:!0,autoplay:!0,pagination:{el:".swiper-pagination"}});c(e)}}),[s.length]),Object(i.jsxs)("div",{className:"sliderComponent",children:[Object(i.jsx)("div",{className:"slider-mask"}),Object(i.jsxs)("div",{className:"slider-container",children:[Object(i.jsx)("div",{className:"swiper-wrapper",children:s.map((function(e,t){return Object(i.jsx)("div",{className:"swiper-slide",children:Object(i.jsx)("div",{className:"slider-nav",children:Object(i.jsx)("img",{src:e.imageUrl,width:"100%",height:"100%",alt:"\u63a8\u8350"})})},e.imageUrl+t)}))}),Object(i.jsx)("div",{className:"swiper-pagination"})]})]})},m=n(27),O=n.n(m),h=n(24),y=n.n(h),v=function(e){var t=e.content;return Object(i.jsx)("div",{className:"m-message-notice-content",children:t})},x=function(e){return[0,45+40*(e-1)+10]},g=0,N={info:function(e,t){var n=function(){var e=document.createElement("div");e.setAttribute("class","m-message");var t=document.createElement("div");return e.appendChild(t),document.body.appendChild(e),e}(),r=0;O.a.render(Object(i.jsx)(v,{content:t}),n,(function(){g++;var e={name:"msgFade".concat(x(g)[1]),animation:[{opacity:0,top:0},{opacity:1,top:"".concat(x(g)[1],"px")}],presets:{duration:500,easing:"linear"}};y.a.registerAnimation(e),y.a.runAnimation(n,e.name),r=window.setTimeout((function(){var t=JSON.parse(JSON.stringify(e));t.animation=t.animation.reverse(),t.name="".concat(t.name,"H"),t.presets.delay=800,y.a.registerAnimation(t),y.a.runAnimation(n,t.name,(function(){g--,O.a.unmountComponentAtNode(n),clearTimeout(r),function(){var e=document.getElementsByClassName("m-message")[0],t=e.parentElement;null===t||void 0===t||t.removeChild(e)}()}))}),500)}))}.bind(void 0,"info")},E=function(){return Object(i.jsx)("div",{className:"spin-wrapper",children:Object(i.jsxs)("div",{className:"spin-dot",children:[Object(i.jsx)(p,{icon:"spinner",spin:!0}),Object(i.jsx)("p",{children:"\u52a0\u8f7d\u4e2d"})]})})},L=n(76),k=n(31),A=Object(a.createContext)(null);var S=function(e){var t=e.ActiveKey,n=e.onTabClick,r=s.a.useContext(A);if(!r)return null;var a=r.tabs;return Object(i.jsx)("div",{className:"tabs-nav",children:Object(i.jsx)(k.d,{children:Object(i.jsx)("div",{className:"r-cate-wrapper",children:a.map((function(e,r){var a=e.key,s=e.label,u=c()("r-cate-item horizen-item",{selected:t===a});return Object(i.jsx)("span",{className:u,onClick:function(e){return n(a,e)},children:s},a)}))})})})};var w=function(e){var t=e.ActiveKey,n=s.a.useContext(A);if(!n)return null;var r=n.tabs,c=r.findIndex((function(e){return e.key===t}));return Object(i.jsx)("div",{className:"tab-content-wrapper",children:Object(i.jsx)("div",{className:"tab-content",style:c?{marginLeft:"-".concat(c,"00%")}:{},children:r.map((function(e){return s.a.cloneElement(e.node,{key:e.key,tabKey:e.key,active:e.key===t})}))})})},_=n(9),C=["defaultActiveKey","className","style","onChange","children","onTabClick"];var T=function(e){e.activeKey;var t=e.children,n=e.active,r=s.a.useState(!1),a=Object(f.a)(r,2),u=(a[0],a[1]);s.a.useEffect((function(){n&&u(!0)}),[n]);var o=c()("tab-tabpane",{"tabpane-active":n}),l={};return n||(l.visibility="hidden",l.height=0,l.overflowY="hidden"),Object(i.jsx)("div",{className:o,style:l,children:n&&t})},G=function(e){e.defaultActiveKey;var t=e.className,n=(e.style,e.onChange,e.children),r=e.onTabClick,u=Object(L.a)(e,C),l=function(e){return Object(_.b)(e).map((function(e){if(s.a.isValidElement(e)){var t=void 0!==e.key?String(e.key):void 0;return Object(o.a)(Object(o.a)({key:t},e.props),{},{node:e})}return null})).filter((function(e){return e}))}(n),d=Object(a.useMemo)((function(){return{tabs:l}}),[l,l.length]),p=Object(a.useState)(""),b=Object(f.a)(p,2),j=b[0],m=b[1];Object(a.useEffect)((function(){!j&&l[0]&&m(l[0].key)}),[l]),console.log(j);var O={ActiveKey:j},h=Object(o.a)(Object(o.a)({},O),{},{onTabClick:function(e,t){r&&r(e,t),e!==j&&m(e)}}),y=Object(o.a)({},O);return Object(i.jsx)(A.Provider,{value:d,children:Object(i.jsxs)("div",Object(o.a)(Object(o.a)({className:c()("beetle-tabs",t)},u),{},{children:[Object(i.jsx)(S,Object(o.a)({},h)),Object(i.jsx)(w,Object(o.a)({},y))]}))})};G.Item=T;var I=G},137:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),s=n(27),i=n.n(s),u=(n(83),n(35)),o=n(14),l=n(13),d=n(50),p=n(12),f=n(28),b=n(18),j=n(48),m=n(32),O=n(37),h=/\[(\d{2,}):(\d{2})(?:\.(\d{2,3}))?]/g,y=function(){function e(t,n){Object(m.a)(this,e),this.lines=void 0,this.lrc=void 0,this.handle=void 0,this.playState=void 0,this.currentIndex=void 0,this.startStamp=void 0,this.timer=void 0,this.lrc=t,this.handle=n,this.lines=[],this.playState="pause",this.currentIndex=0,this.startStamp=0,this.timer=0,this.initLines()}return Object(O.a)(e,[{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.lines.length&&(this.playState="play",this.currentIndex=this.findCuurentIndex(e),this.getCurrentLyric(this.currentIndex-1),this.startStamp=Number(new Date)-e,this.currentIndex<this.lines.length&&(clearTimeout(this.timer),this._playRest(t)))}},{key:"ProgressControl",value:function(e){this.play(e,!0)}},{key:"togglePlay",value:function(e){"play"===this.playState?this.stop():(this.playState="play",this.play(e,!0))}},{key:"stop",value:function(){this.playState="pause",clearTimeout(this.timer)}},{key:"getCurrentLyric",value:function(e){e<0||this.handle({lineIndex:e,text:this.lines[e].text})}},{key:"findCuurentIndex",value:function(e){return e>=this.lines[this.lines.length-1].time?this.lines.length-1:this.lines.findIndex((function(t){return e<=t.time}))}},{key:"initLines",value:function(){var e,t=this.lrc.split("\n"),n=Object(j.a)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,c=h.exec(r);if(c){var a=r.replace(h,"").trim();a&&3===c[3].length&&(c[3]=c[3].slice(0,c[3].length-1),this.lines.push({time:60*Number(c[1])*1e3+1e3*Number(c[2])+10*(Number(c[3])||0),text:a}))}}}catch(s){n.e(s)}finally{n.f()}this.lines.sort((function(e,t){return e.time-t.time}))}},{key:"_playRest",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.lines[this.currentIndex];if(n)e=r.time-(Number(new Date)-this.startStamp);else{var c=this.lines[this.currentIndex-1]?this.lines[this.currentIndex-1].time:0;e=r.time-c}this.timer=setTimeout((function(){t.getCurrentLyric(t.currentIndex++),t.currentIndex<t.lines.length&&"play"===t.playState&&t._playRest()}),e)}}]),e}(),v=y,x=n(9),g=n(11),N=n.n(g),E=n(139),L=n(31),k=n(24),A=n.n(k),S=n(21),w=n(6);!function(e){e[e.sequence=0]="sequence",e[e.loop=1]="loop",e[e.random=2]="random"}(r||(r={}));var _=function(e,t){var n=e.currentIndex,r=Object(x.d)(t,e.playList);if(n!==r||-1===n){n++,e.playList.splice(n,0,t),r>-1&&(n>r?(e.playList.splice(r,1),n--):e.playList.splice(r+1,1));var c=Object(x.d)(e.currentSong,e.sequencePlayList)+1,a=Object(x.d)(t,e.sequencePlayList);e.sequencePlayList.splice(c,0,t),a>-1&&(c>a?(e.sequencePlayList.splice(a,1),c--):e.sequencePlayList.splice(a+1,1)),e.currentIndex=n,e.currentSong=t}},C={isFullScreen:!1,playing:!1,sequencePlayList:[],playList:[],playmode:0,currentIndex:-1,showPlayList:!1,currentSong:{},playmodeText:"\u987a\u5e8f\u64ad\u653e",lrc:""},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;return Object(S.a)(e,(function(e){var n=t.type,r=t.payload;switch(n){case w.j:e.isFullScreen=r;break;case w.i:e.currentSong=r;break;case w.h:e.currentIndex=r;break;case w.k:e.playing=r;break;case w.l:e.playList=r;break;case w.o:e.sequencePlayList=r;break;case w.m:e.playmodeText=r,p.c.info(r);break;case w.n:e.playmode=r;break;case w.p:e.showPlayList=r;break;case w.c:e.playList=e.playList.filter((function(e){return e.id!==r.id})),e.sequencePlayList=e.sequencePlayList.filter((function(e){return e.id!==r.id}));break;case w.g:e.lrc=r;break;case w.f:_(e,r)}}))},G=n(1),I=function(e){var t=e.song,n=e.isFullScreen,s=e.playing,i=e.ProgressPercent,u=e.currentTime,o=e.durationTime,l=e.playmode,d=(e.showPlayList,e.toggleFullScreen),f=e.handleClickPlay,j=e.onProgressChange,m=e.lastSong,O=e.nextSong,h=e.handleChangeMode,y=e.toggleShowPlayList,v=e.currentPlayingLyric,g=e.currentLyric,k=e.currentLineNum,S=Object(c.useState)(!1),w=Object(b.a)(S,2),_=w[0],C=w[1],T=Object(c.useRef)(null),I=Object(c.useRef)(null),R=Object(x.j)("transform"),P=Object(c.useRef)(),D=Object(c.useRef)([]),q=Object(c.useRef)(null),B=Object(c.useRef)(null),H=Object(c.useCallback)((function(){var e=document.documentElement.clientWidth/100,t=16*e,n=6*e,r=82*e,c=40*e;return{y:window.innerHeight-t/2-n-r/2-c+30*e,scale:t/r}}),[]),U=Object(c.useCallback)((function(){if(T.current){T.current.style.display="block";var e=H(),t=e.y,n=e.scale,r={0:{transform:"translate3d(0, ".concat(t,"px, 0) scale(").concat(n,")")},80:{transform:"translate3d(0,-50px,0) scale(1.2)"},100:{transform:"translate3d(0,0,0) scale(1)"}};A.a.registerAnimation({name:"move",animation:r,presets:{duration:400,easing:"linear"}}),A.a.runAnimation(I.current,"move")}}),[]),M=Object(c.useCallback)((function(){A.a.unregisterAnimation("move"),I.current&&(I.current.style.animation="")}),[]),V=Object(c.useCallback)((function(){if(I.current){var e=H(),t=e.y,n=e.scale;I.current.style.transition="all 0.4s",I.current.style[R]="translate3d(0, ".concat(t,"px, 0) scale(").concat(n,")")}}),[]),Y=Object(c.useCallback)((function(){I.current&&T.current&&(I.current.style.transition="",I.current.style[R]="",T.current.style.display="none")}),[]),F=Object(c.useCallback)((function(){switch(l){case r.sequence:return Object(G.jsx)(p.b,{icon:"exchange-alt"});case r.loop:return Object(G.jsx)(p.b,{icon:"redo"});case r.random:return Object(G.jsx)(p.b,{icon:"random"})}}),[l]),K=Object(c.useCallback)((function(){var e=!_,n=N()("cd-image",{play:s,pause:!s}),r=N()("cd-wrapper",{cdWrapperShow:e});return Object(G.jsx)(E.a,{timeout:400,classNames:"common-fadeIn",in:e,nodeRef:q,children:Object(G.jsxs)("section",{className:r,ref:q,children:[Object(G.jsx)("div",{className:"img-wrapper",children:Object(G.jsx)("img",{className:n,src:t.al.picUrl+"?param=400x400",alt:""})}),Object(G.jsx)("p",{className:"playing_lyric",children:v})]})})}),[_,s,v]),W=Object(c.useCallback)((function(){var e=_,t=N()("lyric_content",{lyricShow:e});return Object(G.jsx)(E.a,{timeout:400,classNames:"common-fadeIn",in:e,nodeRef:B,children:Object(G.jsx)("section",{className:"lyric-container",ref:B,children:Object(G.jsx)(L.g,{ref:P,children:Object(G.jsx)("div",{className:t,children:g?g.lines.map((function(e,t){var n=N()("text",{current:k===t});return D.current[t]=a.a.createRef(),Object(G.jsx)("p",{className:n,ref:D.current[t],children:e.text},e+t)})):Object(G.jsx)("p",{className:"text pure",children:" \u7eaf\u97f3\u4e50\uff0c\u8bf7\u6b23\u8d4f\u3002"})})})})})}),[_,k]);return Object(c.useEffect)((function(){if(P.current){var e=P.current.getBScroll();if(e)if(k>5){var t=D.current[k-5].current;e.scrollToElement(t,1e3)}else k>0&&k<=5&&e.scrollTo(0,0,1e3)}}),[k]),Object(G.jsx)(E.a,{in:n,classNames:"page-up",timeout:400,mountOnEnter:!0,nodeRef:T,onEnter:U,onEntered:M,onExit:V,onExited:Y,children:Object(G.jsxs)("section",{className:"normal-player-container",ref:T,children:[Object(G.jsx)("div",{className:"player-background",children:Object(G.jsx)("img",{src:t.al.picUrl+"?param=300x300",width:"100%",height:"100%"})}),Object(G.jsx)("div",{className:"bg-decorate"}),Object(G.jsxs)("article",{className:"player-header",children:[Object(G.jsx)("span",{className:"close-btn",onClick:function(){return d(!1)},children:Object(G.jsx)(p.b,{icon:"chevron-down"})}),Object(G.jsxs)("div",{className:"title-wrapper",children:[Object(G.jsx)(L.e,{className:"title",text:t.name}),Object(G.jsx)("p",{className:"subtitle",children:Object(x.g)(t.ar)})]})]}),Object(G.jsxs)("article",{className:"player-middle",ref:I,onClick:function(){C((function(e){return!e}))},children:[K(),W()]}),Object(G.jsxs)("article",{className:"player-bottom",children:[Object(G.jsxs)("div",{className:"time-line-wrapper",children:[Object(G.jsx)("span",{children:Object(x.e)(u)}),Object(G.jsx)("div",{className:"progress-wrapper",children:Object(G.jsx)(L.f,{percent:i,percentChange:function(e){j(e)}})}),Object(G.jsx)("span",{children:Object(x.e)(o)})]}),Object(G.jsxs)("div",{className:"player-control-bar",children:[Object(G.jsx)("span",{onClick:function(){return h()},children:F()}),Object(G.jsx)("span",{children:Object(G.jsx)(p.b,{icon:"step-backward",onClick:function(){return m()}})}),Object(G.jsx)("span",{onClick:function(e){f(!s)},children:s?Object(G.jsx)(p.b,{icon:"pause"}):Object(G.jsx)(p.b,{icon:"play"})}),Object(G.jsx)("span",{children:Object(G.jsx)(p.b,{icon:"step-forward",onClick:function(){return O()}})}),Object(G.jsx)("span",{onClick:function(e){return y(!0)},children:Object(G.jsx)(p.b,{icon:"stream"})})]})]})]})})},R=a.a.memo(I),P=function(e){var t=e.showPlayList,n=e.playList,r=e.playmodeText,a=e.currentIndex,s=e.toggleShowPlayList,i=e.changeCurrentIndex,u=e.handleDeleteSong,o=Object(c.useRef)(document.createElement("div")),l=Object(c.useRef)(null),d=Object(c.useRef)(document.createElement("ul")),f=Object(x.j)("transform"),b=Object(c.useCallback)((function(){return n.map((function(e,t){var n=N()({isSelect:a===t});return Object(G.jsxs)("li",{"data-value":t,className:n,children:[Object(G.jsx)("span",{className:"index",children:t+1}),Object(G.jsxs)("div",{className:"song-item",children:[Object(G.jsx)("span",{className:"song-name",children:e.name}),Object(G.jsxs)("span",{className:"singer-name",children:[Object(x.g)(e.ar)," - ",e.al.name]})]}),Object(G.jsx)("div",{className:"del-btn",onClick:function(t){return u(t,e)},children:Object(G.jsx)(p.b,{icon:"trash-alt"})})]},e.id)}))}),[n,a]);Object(c.useEffect)((function(){if(l.current)return l.current.addEventListener("click",e),function(){l.current&&l.current.removeEventListener("click",e)};function e(){s(!1)}}));return Object(G.jsx)(E.a,{in:t,classNames:"playlist-fade",nodeRef:o,timeout:400,mountOnEnter:!0,onEnter:function(){o.current.style.display="block";A.a.registerAnimation({name:"pushup",animation:{0:{transform:"translate3d(0, 100%, 0) scale(0.8)"},100:{transform:"translate3d(0, 0, 0) scale(1)"}},presets:{duration:400,easing:"linear"}}),A.a.runAnimation(d.current,"pushup")},onEntered:function(){A.a.unregisterAnimation("move"),d.current.style.animation=""},onExit:function(){d.current.style.transition="all 0.4s",d.current.style[f]="translate3d(0, 100%, 0)"},onExited:function(){d.current.style.transition="",d.current.style[f]="",o.current.style.display="none"},children:Object(G.jsxs)("section",{className:"playlist-container",ref:o,children:[Object(G.jsx)("div",{className:"modal-decorate",ref:l}),Object(G.jsx)("div",{className:"playlist-scroll",children:Object(G.jsx)(L.g,{children:Object(G.jsxs)("ul",{className:"list-wrapper",ref:d,onClick:function(e){return function(e){for(var t=e.target;1===t.nodeType&&"LI"!==t.tagName;)t=t.parentNode;i(Number(t.getAttribute("data-value")))}(e)},children:[Object(G.jsx)("p",{children:r}),b()]})})})]})})},D=a.a.memo(P),q=n(15),B=n(4),H=n.n(B),U=n(3),M=n(17),V=function(e){return M.a.request({url:"/lyric",params:e})},Y=function(e){return M.a.request({url:"/song/detail",params:{ids:e}})},F=H.a.mark(J),K=H.a.mark(Q),W=H.a.mark(Z),z=H.a.mark($),X=H.a.mark(ee);function J(e){var t,n,c,a,s,i,u,o,l;return H.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return e.type,t=e.payload,d.next=3,Object(U.d)((function(e){return e.Player}));case 3:n=d.sent,c=n.sequencePlayList,a=n.currentSong,s=n.currentIndex,d.prev=5,d.t0=t,d.next=d.t0===r.sequence?9:d.t0===r.loop?17:d.t0===r.random?25:34;break;case 9:return d.next=11,Object(U.c)({type:w.l,payload:c});case 11:return i=Object(x.d)(a,c),d.next=14,Object(U.c)({type:w.h,payload:i});case 14:return d.next=16,Object(U.c)({type:w.m,payload:"\u987a\u5e8f\u64ad\u653e"});case 16:return d.abrupt("break",38);case 17:return u=c.filter((function(e,t){return t===s})),d.next=20,Object(U.c)({type:w.l,payload:u});case 20:return d.next=22,Object(U.c)({type:w.h,payload:0});case 22:return d.next=24,Object(U.c)({type:w.m,payload:"\u5355\u66f2\u5faa\u73af"});case 24:return d.abrupt("break",38);case 25:return o=Object(x.k)(c),l=Object(x.d)(a,o),d.next=29,Object(U.c)({type:w.l,payload:o});case 29:return d.next=31,Object(U.c)({type:w.h,payload:l});case 31:return d.next=33,Object(U.c)({type:w.m,payload:"\u968f\u673a\u64ad\u653e"});case 33:return d.abrupt("break",38);case 34:return d.next=36,Object(U.c)({type:w.m,payload:"\u5207\u6362\u5931\u8d25"});case 36:return console.error("\u5207\u6362\u5931\u8d25"),d.abrupt("break",38);case 38:return d.next=40,Object(U.c)({type:w.n,payload:t});case 40:d.next=45;break;case 42:d.prev=42,d.t1=d.catch(5),console.log(d.t1);case 45:case"end":return d.stop()}}),F,null,[[5,42]])}function Q(e){var t,n,r,c,a,s,i;return H.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,u.next=3,Object(U.d)((function(e){return e.Player}));case 3:return n=u.sent,r=n.sequencePlayList,c=n.playList,t instanceof Array?(a=[].concat(Object(q.a)(r),Object(q.a)(t)),s=[].concat(Object(q.a)(t),Object(q.a)(c)),i=t[0]):(a=[].concat(Object(q.a)(r),[t]),s=[t].concat(Object(q.a)(c)),i=t),u.next=8,Object(U.c)({type:w.o,payload:a});case 8:return u.next=10,Object(U.c)({type:w.l,payload:s});case 10:return u.next=12,Object(U.c)({type:w.h,payload:0});case 12:return u.next=14,Object(U.c)({type:w.i,payload:i});case 14:case"end":return u.stop()}}),K)}function Z(e){var t,n,r,c;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(U.b)(V,t);case 3:return n=a.sent,r=n.lrc,c=r.lyric,a.next=8,Object(U.c)({type:w.g,payload:c});case 8:case"end":return a.stop()}}),W)}function $(e){var t,n,r;return H.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,c.next=4,Object(U.b)(Y,t);case 4:return n=c.sent,r=n.songs,c.next=8,Object(U.c)({type:w.f,payload:r[0]});case 8:c.next=12;break;case 10:c.prev=10,c.t0=c.catch(0);case 12:case"end":return c.stop()}}),z,null,[[0,10]])}function ee(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.f)(w.b,J);case 2:return e.next=4,Object(U.f)(w.a,Q);case 4:return e.next=6,Object(U.f)(w.d,Z);case 6:return e.next=8,Object(U.f)(w.e,$);case 8:case"end":return e.stop()}}),X)}var te=function(){var e=Object(c.useState)(0),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(0),i=Object(b.a)(s,2),u=i[0],l=i[1],d=Object(c.useState)(""),p=Object(b.a)(d,2),j=p[0],m=p[1],O=n/u,h=Object(f.c)(),y=Object(c.useRef)(document.createElement("audio")),g=Object(c.useRef)(!0),N=Object(c.useRef)(null),E=Object(c.useRef)(-1),L=Object(f.d)((function(e){return e.Player})),k=L.isFullScreen,A=L.playing,S=(L.sequencePlayList,L.playList),_=L.playmode,C=L.currentIndex,T=L.showPlayList,I=L.currentSong,P=L.playmodeText,q=L.lrc,B=function(e){h({type:w.k,payload:e}),N.current&&N.current.togglePlay(1e3*n)},H=function(){y.current.currentTime=0},U=function(){if(_!==r.loop)if(1!==S.length){var e=(C+1)%S.length;M(e),A||B(!0)}else B(!1);else H()},M=function(e){h({type:w.h,payload:e}),h({type:w.i,payload:S[e]})},V=function(e){h({type:w.p,payload:e})},Y=function(e){var t=e.lineIndex,n=e.text;N.current&&(E.current=t,m(n))};Object(c.useEffect)((function(){q?(N.current=new v(q,Y),E.current=0,N.current.ProgressControl(0),A||N.current.stop()):N.current=null}),[q]);var F=function(e){"play"===e?y.current.play().then((function(){g.current=!0,B(!0),console.log("audio played auto")})).catch((function(e){console.log("audio error:",e),B(!1)})):y.current.pause()};Object(c.useEffect)((function(){I&&0!==S.length&&M(0)}),[]),Object(c.useEffect)((function(){if(S.length&&-1!==C&&g.current){var e=S[C];g.current=!1;var t,n=Object(x.a)(e.id);y.current.src=n,setTimeout((function(){F("play")})),B(!0),a(0),l(e.dt/1e3),t=e.id,h({type:w.d,payload:{id:t}}),N.current&&N.current.stop()}}),[S,C]),Object(c.useEffect)((function(){y.current&&F(A?"play":"pause")}),[A]);var K={song:I,isFullScreen:k,toggleFullScreen:function(e){h({type:w.j,payload:e})},playing:A,handleClickPlay:B,ProgressPercent:O,currentTime:n,durationTime:u,onProgressChange:function(e){var t=e*u;y.current.currentTime=t,a(t),A||B(!0),N.current&&N.current.ProgressControl(1e3*t)},lastSong:function(){C<=0||(_!==r.loop?(M(C-1),A||B(!0)):H())},nextSong:U,handleChangeMode:function(){var e=(_+1)%3;h({type:w.b,payload:e})},playmode:_,showPlayList:T,toggleShowPlayList:V,currentPlayingLyric:j,currentLyric:N.current,currentLineNum:E.current},W={showPlayList:T,toggleShowPlayList:V,playList:S,playmodeText:P,currentIndex:C,changeCurrentIndex:M,handleDeleteSong:function(e,t){e.stopPropagation(),h({type:w.c,payload:{id:t.id}})}};return Object(G.jsxs)("section",{className:"player-container",children:[Object(G.jsx)(D,Object(o.a)({},W)),!Object(x.i)(I)&&Object(G.jsx)(R,Object(o.a)({},K)),Object(G.jsx)("audio",{id:"my_audio",ref:y,onTimeUpdate:function(e){a(e.target.currentTime)},onEnded:U,onError:function(){g.current=!0,console.log("\u64ad\u653e\u51fa\u9519")}})]})},ne=a.a.memo(te),re=function(e){var t=e.route,n=Object(f.c)(),r=Object(f.d)((function(e){return e.Player})),a=r.currentSong,s=r.playing,i=Object(f.d)((function(e){return e.Home})).Global_Loading,o=N()("cd-image",{play:s,pause:!s}),l=Object(c.useCallback)((function(){n({type:"player/SET_ISFULL_SCREEN",payload:!0})}),[]);return Object(G.jsxs)("div",{className:"home-container",children:[i&&Object(G.jsx)(p.e,{}),Object(d.a)(t.routes),Object(G.jsx)(ne,{}),Object(G.jsxs)("div",{className:"home-footer",children:[Object(G.jsx)(u.c,{to:"/discover",activeClassName:"RouterActive",children:Object(G.jsxs)("div",{className:"tab-item",children:[Object(G.jsx)(p.b,{icon:"compass"}),Object(G.jsx)("span",{children:"\u53d1\u73b0"})]})}),Object(G.jsx)("div",{className:"CD-wrapper",onClick:l,children:Object(G.jsx)("div",{className:"img-wrapper",children:!Object(x.i)(a)&&Object(G.jsx)("img",{className:o,src:a.al.picUrl+"?param=400x400",alt:""})})}),Object(G.jsx)(u.c,{to:"/mine",activeClassName:"RouterActive",children:Object(G.jsxs)("div",{className:"tab-item",children:[Object(G.jsx)(p.b,{icon:"mitten"}),Object(G.jsx)("span",{children:"\u6211\u7684"})]})})]})]})},ce=a.a.memo(re),ae=Object(c.lazy)((function(){return n.e(4).then(n.bind(null,140))})),se=Object(c.lazy)((function(){return n.e(6).then(n.bind(null,141))})),ie=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,142))})),ue=Object(c.lazy)((function(){return n.e(5).then(n.bind(null,143))})),oe=Object(c.lazy)((function(){return n.e(7).then(n.bind(null,146))})),le=Object(c.lazy)((function(){return n.e(8).then(n.bind(null,144))})),de=function(e){return function(t){return Object(G.jsx)(c.Suspense,{fallback:"",children:Object(G.jsx)(e,Object(o.a)({},t))})}},pe=[{path:"/",component:ce,routes:[{path:"/",exact:!0,render:function(){return Object(G.jsx)(l.a,{to:"/discover"})}},{path:"/discover",exact:!0,component:de(ae)},{path:"/recommend",exact:!0,component:de(se)},{path:"/rank",exact:!0,component:de(ue)},{path:"/album/:id",exact:!0,key:"album",component:de(ie)},{path:"/search",exact:!0,key:"search",component:de(oe)},{path:"/singers/:id",exact:!0,component:de(le)}]}],fe=n(75),be=n(30),je="global/CHANGE_GLOBAL_LOADING",me={Global_Loading:!1},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;return Object(S.a)(e,(function(e){var n=t.type,r=t.payload;if(n===je)e.Global_Loading=r}))},he=n(46),ye=n(47),ve=n(33),xe=function(e){return M.a.request({url:"/playlist/detail",params:e})},ge=H.a.mark(Ee),Ne=H.a.mark(Le);function Ee(e){var t,n,r;return H.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.next=3,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!0});case 3:return c.prev=3,c.next=6,Object(U.b)(xe,t);case 6:return n=c.sent,r=n.playlist,c.next=10,Object(U.c)({type:ve.b,payload:r});case 10:return c.next=12,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!1});case 12:c.next=19;break;case 14:return c.prev=14,c.t0=c.catch(3),console.error(c.t0),c.next=19,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!1});case 19:case"end":return c.stop()}}),ge,null,[[3,14]])}function Le(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.f)(ve.a,Ee);case 2:case"end":return e.stop()}}),Ne)}var ke={playList:[],currentAlbum:{}},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;return Object(S.a)(e,(function(e){var n=t.type,r=t.payload;if(n===ve.b)e.currentAlbum=r}))},Se=n(39),we=function(){return M.a.request({url:"/toplist/detail"})},_e=H.a.mark(Te),Ce=H.a.mark(Ge);function Te(){var e,t;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!0});case 2:return n.prev=2,n.next=5,Object(U.b)(we);case 5:return e=n.sent,t=e.list,n.next=9,Object(U.c)({type:Se.b,payload:t});case 9:return n.next=11,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!1});case 11:n.next=18;break;case 13:return n.prev=13,n.t0=n.catch(2),console.error(n.t0),n.next=18,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!1});case 18:case"end":return n.stop()}}),_e,null,[[2,13]])}function Ge(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.f)(Se.a,Te);case 2:case"end":return e.stop()}}),Ce)}var Ie={rankList:[]},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;return Object(S.a)(e,(function(e){var n=t.type,r=t.payload;if(n===Se.b)e.rankList=r}))},Pe=function(){return M.a.request({url:"/search/hot"})},De=function(e){return M.a.request({url:"/search/suggest",params:{keywords:e}})},qe=function(e){return M.a.request({url:"/search",params:{keywords:e}})},Be=n(26),He=H.a.mark(Ve),Ue=H.a.mark(Ye),Me=H.a.mark(Fe);function Ve(){var e,t,n;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!0});case 2:return r.prev=2,r.next=5,Object(U.b)(Pe);case 5:return e=r.sent,t=e.result,n=t.hots,r.next=10,Object(U.c)({type:Be.e,payload:n});case 10:return r.next=12,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!1});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(2),r.next=18,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!1});case 18:case"end":return r.stop()}}),He,null,[[2,14]])}function Ye(e){var t,n,r,c,a,s;return H.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!0});case 2:return i.prev=2,t=e.payload,i.next=6,Object(U.a)([Object(U.b)(De,t),Object(U.b)(qe,t)]);case 6:return n=i.sent,r=Object(b.a)(n,2),c=r[0],a=r[1],s=c.result,Object(x.i)(c.result)&&(s={order:["songs"]}),i.next=14,Object(U.c)({type:Be.g,payload:s});case 14:return i.next=16,Object(U.c)({type:Be.f,payload:a.result.songs});case 16:return i.next=18,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!1});case 18:i.next=24;break;case 20:return i.prev=20,i.t0=i.catch(2),i.next=24,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!1});case 24:case"end":return i.stop()}}),Ue,null,[[2,20]])}function Fe(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.f)(Be.b,Ve);case 2:return e.next=4,Object(U.f)(Be.c,Ye);case 4:case"end":return e.stop()}}),Me)}var Ke={hotKeyList:[],suggestObject:{},songsList:[],enterLoading:!1},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;return Object(S.a)(e,(function(e){var n=t.type,r=t.payload;switch(n){case Be.d:e.enterLoading=r;break;case Be.e:e.hotKeyList=r;break;case Be.f:e.songsList=r;break;case Be.g:e.suggestObject=r,e.suggestObject.order=Object(x.h)(e.suggestObject.order);break;case Be.a:e.suggestObject={},e.songsList=[]}}))},ze=function(e){return M.a.request({url:"/artists",params:e})},Xe=n(29),Je=H.a.mark(Ze),Qe=H.a.mark($e);function Ze(e){var t,n,r,c;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!0});case 3:return t=e.payload,a.next=6,Object(U.b)(ze,t);case 6:return n=a.sent,r=n.artist,c=n.hotSongs,a.next=11,Object(U.c)({type:Xe.a,payload:r});case 11:return a.next=13,Object(U.c)({type:Xe.b,payload:c});case 13:return a.next=15,Object(U.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!1});case 15:a.next=19;break;case 17:a.prev=17,a.t0=a.catch(0);case 19:case"end":return a.stop()}}),Je,null,[[0,17]])}function $e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.f)(Xe.c,Ze);case 2:case"end":return e.stop()}}),Qe)}var et={artist:{},songsOfArtist:[]},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;return Object(S.a)(e,(function(e){var n=t.type,r=t.payload;switch(n){case Xe.a:e.artist=r;break;case Xe.b:e.songsOfArtist=r}}))},nt=Object(be.b)({Home:Oe,Discover:he.b,Recommend:ye.b,Album:Ae,Rank:Re,Player:T,Search:We,Singer:tt}),rt=n(51),ct=H.a.mark(st),at=H.a.mark(it);function st(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,console.log("success");case 2:case"end":return e.stop()}}),ct)}function it(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.b)("TEST",st);case 2:case"end":return e.stop()}}),at)}var ut=H.a.mark(ot);function ot(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.a)([it()]);case 2:case"end":return e.stop()}}),ut)}var lt=H.a.mark(dt);function dt(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.a)([ot(),Object(he.c)(),Object(ye.c)(),Le(),Ge(),ee(),Fe(),$e()]);case 2:case"end":return e.stop()}}),lt)}var pt=Object(fe.a)(),ft=Object(be.c)(Object(be.a)(pt)),bt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||be.c,jt=Object(be.d)(nt,bt(ft));pt.run(dt);var mt=function(){return Object(c.useEffect)((function(){var e=document.getElementById("root");if(e){e.addEventListener("click",(function t(){var n=document.getElementById("my_audio");n&&(n.play().then((function(){})).catch((function(e){})),setTimeout((function(){n.pause()}),1)),setTimeout((function(){e.removeEventListener("click",t)}),1)}))}}),[]),Object(G.jsx)(f.a,{store:jt,children:Object(G.jsx)(u.a,{children:Object(d.a)(pe)})})},Ot=function(e){e&&e instanceof Function&&n.e(9).then(n.bind(null,145)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},ht=(n(137),n(34)),yt=n(74);ht.b.add(yt.a),i.a.render(Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)(mt,{})}),document.getElementById("root")),Ot()},17:function(e,t,n){"use strict";var r=n(14),c=n(32),a=n(37),s=n(56),i=n.n(s),u="https://music-api-five.vercel.app/";i.a.defaults.timeout=5e3;var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;Object(c.a)(this,e),this.baseUrl=void 0,this.baseUrl=t}return Object(a.a)(e,[{key:"request",value:function(e){var t=i.a.create(),n=this.mergeOptions(e);return this.interceptors(t,n.url),t(n)}},{key:"interceptors",value:function(e,t){e.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),e.interceptors.response.use((function(e){if(200===e.status)return 200!==e.data.code&&console.error("\u8bf7\u6c42\u9519\u8bef:",e),e.data}),(function(e){return Promise.reject(e)}))}},{key:"mergeOptions",value:function(e){return Object(r.a)({baseURL:this.baseUrl},e)}}]),e}(),l=new o;t.a=l},26:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o}));var r="search/SET_HOT_KEYWRODS",c="search/SET_SUGGEST_LIST",a="search/SET_RESULT_SONGS_LIST",s="search/SET_ENTER_LOADING",i="search/GET_HOT_KEYWRODS",u="search/SEARCH_KEYWORD",o="search/CLEAR_DATA"},29:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return a}));var r="singer/GET_SINGER",c="singer/CHANGE_SINGER",a="singer/CHANGE_SONGS_OF_SINGER"},31:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return j})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return S}));var r=n(11),c=n.n(r),a=n(0),s=n.n(a),i=n(12),u=n(1),o=Object(a.forwardRef)((function(e,t){var n=e.title,r=e.handleClick,a=e.rolling,s=e.style,o=e.className,l=c()("header-container",o);return Object(u.jsxs)("div",{className:l,onClick:function(){return r()},style:s,ref:t,children:[Object(u.jsx)(i.b,{className:"header-back",icon:"chevron-left"}),Object(u.jsx)("div",{className:"title-wrapper",children:a?Object(u.jsx)(m,{text:n}):Object(u.jsx)("span",{children:n})})]})})),l=s.a.memo(o),d=n(18),p=n(72),f=a.forwardRef((function(e,t){var n=a.useState(),r=Object(d.a)(n,2),s=r[0],i=r[1],o=a.useRef(null),l=e.direction,f=e.click,b=e.refresh,j=(e.pullUpLoading,e.pullDownLoading,e.bounceTop),m=e.bounceBottom,O=e.pullUp,h=e.pullDown,y=e.onScroll;a.useEffect((function(){if(!s){var e=new p.a(o.current,{scrollX:"horizental"===l,scrollY:"vertical"===l,probeType:3,click:f,bounce:{top:j,bottom:m}});return i(e),function(){i(null)}}}),[]),a.useEffect((function(){b&&s&&s.refresh()})),a.useEffect((function(){if(s&&y)return s.on("scroll",y),function(){s.off("scroll",y)}}),[y,s]),a.useEffect((function(){if(s&&O)return s.on("scrollEnd",(function(){s.y<=s.maxScrollY+100&&O()})),function(){s.off("scrollEnd")}}),[O,s]),a.useEffect((function(){if(s&&h)return s.on("touchEnd",(function(e){e.y>50&&h()})),function(){s.off("touchEnd")}}),[h,s]),a.useImperativeHandle(t,(function(){return{refresh:function(){s&&(s.refresh(),s.scrollTo(0,0))},getBScroll:function(){if(s)return s},finishPullDown:function(){s&&s.finishPullDown()}}}));var v=c()("myscroll-container",{"myscroll-vertical":"vertical"===l});return Object(u.jsx)("div",{className:v,ref:o,children:"vertical"===l?Object(u.jsx)("div",{className:"scroll-content",children:e.children}):e.children})}));f.defaultProps={direction:"vertical",click:!0,onScroll:null,pullUpLoading:!1,pullDownLoading:!1,pullUp:null,pullDown:null,bounceTop:!0,bounceBottom:!0};var b=a.memo(f),j=function(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e,r=t.current,c=r.querySelectorAll(".horizen-item"),a=0;Array.from(c).forEach((function(e){a+=e.offsetWidth})),r.style.width="".concat(a+100,"px"),null===(e=n.current)||void 0===e||e.refresh()})),Object(u.jsx)(b,{ref:n,direction:"horizental",children:Object(u.jsx)("div",{ref:t,children:e.children})})},m=function(e){var t=e.text,n=e.className,r=c()("marquee-container",n);return Object(u.jsx)("div",{className:r,children:Object(u.jsx)("div",{className:"marquee-text",children:t})})},O=n(14),h=n(9),y=function(e){var t=e.percent,n=e.percentChange,r=Object(a.useRef)(null),c=Object(a.useRef)(null),s=Object(a.useRef)(null),i=Object(a.useState)(),o=Object(d.a)(i,2),l=o[0],p=o[1],f=Object(h.j)("transform");Object(a.useEffect)((function(){var e;if(r.current&&c.current&&s.current){var n=null===(e=r.current)||void 0===e?void 0:e.clientWidth,a=t*n;c.current.style.width=a+"px",s.current.style[f]="translate3d(".concat(a-s.current.clientWidth/2,"px, 0, 0)")}}),[t]);var b=function(e){c.current&&s.current&&(c.current.style.width=e+"px",s.current.style[f]="translate3d(".concat(e,"px, 0,0)"))},j=function(){if(r.current&&s.current&&c.current){var e=r.current.clientWidth-s.current.clientWidth,t=c.current.clientWidth/e;n(t)}};return Object(u.jsx)("section",{className:"progress-bar",children:Object(u.jsxs)("div",{className:"bar-inner",ref:r,onClick:function(e){if(r.current){var t=r.current.getBoundingClientRect(),n=e.pageX-t.left;b(n),j()}},children:[Object(u.jsx)("div",{className:"progress",ref:c}),Object(u.jsx)("div",{className:"progress-btn-wrapper",ref:s,onTouchStart:function(e){var t,n={startedTouch:!0,startX:e.touches[0].pageX,passed:(null===(t=c.current)||void 0===t?void 0:t.clientWidth)||0};p(n),j()},onTouchMove:function(e){if((null===l||void 0===l?void 0:l.startedTouch)&&r.current&&s.current){var t=e.touches[0].pageX-l.startX,n=r.current.clientWidth-s.current.clientWidth,c=Math.min(Math.max(0,l.passed+t),n);b(c)}},onTouchEnd:function(e){var t=Object(O.a)({},l);t.startedTouch=!1,p(t),j()},children:Object(u.jsx)("div",{className:"progress-btn"})})]})})},v=s.a.memo(y),x=Object(h.j)("transform"),g=Object(a.forwardRef)((function(e,t){var n=Object(a.useRef)(document.createElement("article")),r=(Object(a.useRef)(null),function(e){if(n.current)for(var t=function(t){var r=Array.from(n.current.querySelectorAll(".icon-wrapper"))[t];if(!1===r.running)return r.style.left="100px",r.style.top=e+"px",r.style.display="inline-block",setTimeout((function(){r.running=!0,r.style[x]="translate3d(0, 700px, 0)",r.querySelector("span").style[x]="translate3d(50vw, 0, 0)"}),0),"break"},r=0;r<3;r++){if("break"===t(r))break}});return Object(a.useEffect)((function(){for(var e=0;e<3;e++){Array.from(n.current.querySelectorAll(".icon-wrapper")).forEach((function(e){e.running=!1,e.addEventListener("transitionend",(function(){this.style.display="none",this.style[x]="translate3d(0, 0, 0)",this.running=!1,this.querySelector("span").style[x]="translate3d(0, 0, 0)"}),!1)}))}}),[]),Object(a.useImperativeHandle)(t,(function(){return{startAnimation:r}})),Object(u.jsx)("article",{ref:n,className:"musicnote-wrapper",children:[1,2,3].map((function(e){return Object(u.jsx)("div",{className:"icon-wrapper",children:Object(u.jsx)("span",{children:Object(u.jsx)(i.b,{icon:"music"})})},e)}))})})),N=function(e){var t=e.songs,n=e.showNum,r=e.className,s=e.showPlayAll,o=e.onClickCallback,l=e.onClickPlayAll,d=c()("songs-wrapper",r),p=c()("song-item",{isIndent:!n}),f=Object(a.useRef)();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("section",{className:d,children:[s&&Object(u.jsx)("article",{className:"first-line",children:Object(u.jsxs)("div",{className:"play-all",onClick:function(){l&&l()},children:[Object(u.jsx)("span",{className:"playicon",children:Object(u.jsx)(i.b,{icon:"play-circle"})}),Object(u.jsxs)("span",{children:[" ","\u64ad\u653e\u5168\u90e8 ",Object(u.jsxs)("span",{className:"sum",children:["(",t.length,")"]})]})]})}),Object(u.jsx)("ul",{className:"songs-ul",children:t.map((function(e,t){var r=e.ar||e.artists,c=e.al?e.al.name:e.album.name;return Object(u.jsxs)("li",{onClick:function(t){return function(e,t){f.current&&f.current.startAnimation(e.nativeEvent.clientY),o(e,t)}(t,e)},children:[n&&Object(u.jsx)("span",{className:"index",children:t+1}),Object(u.jsxs)("div",{className:p,children:[Object(u.jsx)("span",{className:"song-name",children:e.name}),Object(u.jsxs)("span",{className:"singer-name",children:[Object(u.jsx)(i.b,{icon:"h-square"}),Object(h.g)(r)," - ",c]})]})]},e.name+t)}))})]}),Object(u.jsx)(g,{ref:f})]})};N.defaultProps={showNum:!0,showPlayAll:!1};var E=N,L=n(58),k=n.n(L),A=n(59),S=function(e){var t=e.data,n=e.onClickCallback;return Object(u.jsx)("div",{className:"playlist-wrapper",children:t.map((function(e,t){return Object(u.jsxs)("div",{className:"playlist-item",onClick:function(t){return n(e.id)},children:[Object(u.jsx)("div",{className:"item-pic-wrapper",children:Object(u.jsx)(k.a,{placeholder:Object(u.jsx)("img",{width:"100%",height:"100%",src:A.a}),children:Object(u.jsx)("img",{className:"playlist-item-pic",src:e.coverImgUrl+"?param=300x300"})})}),Object(u.jsxs)("div",{className:"play-count",children:[Object(u.jsx)(i.b,{icon:"play"}),Object(h.f)(e.playCount)]}),Object(u.jsx)("span",{className:"recommend-item-name",children:e.name})]},e.id+t)}))})}},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var r="album/GET_ALBUMDETAIL",c="album/SAVE_ALBUMDETAIL"},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var r="rank/GET_RANKLIST",c="rank/SAVE_RANKLIST"},46:function(e,t,n){"use strict";n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return E}));var r={};n.r(r),n.d(r,"GET_BANNER",(function(){return d})),n.d(r,"SAVE_BANNER",(function(){return p})),n.d(r,"GET_RECOMMEND",(function(){return f})),n.d(r,"SAVE_RECOMMEND",(function(){return b})),n.d(r,"GET_VIDEO_URL",(function(){return j})),n.d(r,"SAVE_VIDEO_URL",(function(){return m}));var c=n(4),a=n.n(c),s=n(3),i=n(17),u=function(){return i.a.request({url:"/banner"})},o=function(){return i.a.request({url:"/personalized?limit=10"})},l=function(){return i.a.request({url:"/video/url",params:{id:"89ADDE33C0AAE8EC14B99F6750DB954D"}})},d="discover/GET_BANNERLIST",p="discover/SAVE_BANNERLIST",f="discover/GET_RECOMMEND",b="discover/SAVE_RECOMMEND",j="discover/GET_VIDEO_URL",m="discover/SAVE_VIDEO_URL",O=a.a.mark(x),h=a.a.mark(g),y=a.a.mark(N),v=a.a.mark(E);function x(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(s.b)(u);case 3:return e=n.sent,t=e.banners,n.next=7,Object(s.c)({type:p,payload:t});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error("\u62e6\u622a\u5230\u4e86:"+n.t0);case 12:case"end":return n.stop()}}),O,null,[[0,9]])}function g(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(s.b)(o);case 3:return e=n.sent,t=e.result,n.next=7,Object(s.c)({type:b,payload:t});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error("\u62e6\u622a\u5230\u4e86:"+n.t0);case 12:case"end":return n.stop()}}),h,null,[[0,9]])}function N(){var e,t;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(s.b)(l);case 3:return e=n.sent,t=e.urls,n.next=7,Object(s.c)({type:m,payload:t[0].url});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),y,null,[[0,9]])}function E(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.f)(d,x);case 2:return e.next=4,Object(s.f)(f,g);case 4:return e.next=6,Object(s.f)(j,N);case 6:case"end":return e.stop()}}),v)}var L=n(21),k={bannerList:[],recommendList:[],videoUrl:""},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;return Object(L.a)(e,(function(e){var n=t.type,r=t.payload;switch(n){case p:e.bannerList=r;break;case b:e.recommendList=r;break;case m:e.videoUrl=r}}))}},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return x}));var r={};n.r(r),n.d(r,"GET_CATELIST",(function(){return i})),n.d(r,"SAVE_CATELIST",(function(){return u})),n.d(r,"GET_PLAYLISTS",(function(){return o})),n.d(r,"SAVE_PLAYLISTS",(function(){return l})),n.d(r,"CHANGE_CATETYPE",(function(){return d})),n.d(r,"CHANGE_LOADING",(function(){return p}));var c=n(4),a=n.n(c),s=n(3),i="recommend/GET_CATELIST",u="recommend/SAVE_CATELIST",o="recommend/GET_PLAYLISTS",l="recommend/SAVE_PLAYLISTS",d="recommend/CHANGE_CATETYPE",p="recommend/CHANGE_LOADING",f=n(17),b=function(){return f.a.request({url:"/playlist/hot"})},j=function(e){return f.a.request({url:"/top/playlist",params:e})},m=a.a.mark(y),O=a.a.mark(v),h=a.a.mark(x);function y(){var e,t,n;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(s.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!0});case 2:return r.prev=2,r.next=5,Object(s.b)(b);case 5:return e=r.sent,t=e.tags,r.next=9,Object(s.c)({type:u,payload:t});case 9:return n={cat:t[0].name,limit:50},r.next=12,Object(s.c)({type:o,payload:n});case 12:r.next=19;break;case 14:return r.prev=14,r.t0=r.catch(2),console.error(r.t0),r.next=19,Object(s.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!1});case 19:case"end":return r.stop()}}),m,null,[[2,14]])}function v(e){var t,n,r;return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.next=3,Object(s.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!0});case 3:return c.prev=3,c.next=6,Object(s.b)(j,t);case 6:return n=c.sent,r=n.playlists,c.next=10,Object(s.c)({type:l,payload:r});case 10:return c.next=12,Object(s.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!1});case 12:c.next=18;break;case 14:return c.prev=14,c.t0=c.catch(3),c.next=18,Object(s.c)({type:"global/CHANGE_GLOBAL_LOADING",payload:!0});case 18:case"end":return c.stop()}}),O,null,[[3,14]])}function x(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.f)(i,y);case 2:return e.next=4,Object(s.f)(o,v);case 4:case"end":return e.stop()}}),h)}var g=n(21),N={cateList:[],playLists:[],loading:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;return Object(g.a)(e,(function(e){var n=t.type,r=t.payload;switch(n){case u:e.cateList=r;break;case l:e.playLists=r;break;case p:e.loading=r}}))}},59:function(e,t,n){"use strict";t.a=n.p+"static/media/defaultmusic.597f781d.png"},6:function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return c})),n.d(t,"k",(function(){return a})),n.d(t,"o",(function(){return s})),n.d(t,"l",(function(){return i})),n.d(t,"n",(function(){return u})),n.d(t,"h",(function(){return o})),n.d(t,"p",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return h}));var r="player/SET_ISFULL_SCREEN",c="player/SET_CURRENT_SONG",a="player/SET_PLAYING_STATE",s="player/SET_SEQUECE_PLAYLIST",i="player/SET_PLAYLIST",u="player/SET_PLAY_MODE",o="player/SET_CURRENT_INDEX",l="player/SET_SHOW_PLAYLIST",d="player/CHANGE_PLAYMODE",p="player/SET_PLAYMODE_TEXT",f="player/ADD_CURRENT_SONG",b="player/DEL_CURRENT_SONG",j="player/GET_LYRIC",m="player/SAVE_LYRIC",O="player/GET_SONG_DETAIL",h="player/INSERT_SONG"},83:function(e,t,n){},9:function(e,t,n){"use strict";n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return j})),n.d(t,"d",(function(){return m})),n.d(t,"k",(function(){return O})),n.d(t,"h",(function(){return h})),n.d(t,"b",(function(){return y}));var r=n(15),c=n(48),a=n(0),s=n.n(a),i=n(49),u=function(e){var t;if(!(e<0))return e<1e4?e:e<1e8?(t=Math.ceil(e/1e4),"".concat(t,"\u4e07")):(t=Math.ceil(e/1e8),"".concat(t,"\u4ebf"))},o=function(e){return e.reduce((function(e,t){return e+" "+t.name}),"")},l=function(e){return!e||e.constructor===Array||e.constructor===Object&&0===Object.keys(e).length},d=function(e){for(var t,n,r=["\u9ed1\u80f6VIP\u7231\u542c\u699c","\u7f51\u7edc\u70ed\u6b4c\u699c","KTV\u551b\u699c"],a=["\u4e91\u97f3\u4e50\u7535\u97f3\u699c","\u4e91\u97f3\u4e50ACG\u699c","\u4e91\u97f3\u4e50\u8bf4\u5531\u699c","\u4e91\u97f3\u4e50\u6447\u6eda\u699c","\u4e91\u97f3\u4e50\u6c11\u8c23\u699c","\u4e91\u97f3\u4e50\u56fd\u7535\u699c","\u4e91\u97f3\u4e50\u53e4\u5178\u699c","\u4e91\u97f3\u4e50\u53e4\u98ce\u699c","\u4e2d\u6587DJ\u699c"],s=["\u7f8e\u56fdBillboard\u699c","UK\u6392\u884c\u699c\u5468\u699c","\u65e5\u672cOricon\u699c","\u6cd5\u56fd NRJ Vos Hits \u5468\u699c","\u4fc4\u7f57\u65aftop hit\u6d41\u884c\u97f3\u4e50\u699c","\u4e91\u97f3\u4e50\u6b27\u7f8e\u65b0\u6b4c\u699c","\u4e91\u97f3\u4e50\u6b27\u7f8e\u70ed\u6b4c\u699c","\u4e91\u97f3\u4e50\u65e5\u8bed\u699c","\u4e91\u97f3\u4e50\u97e9\u8bed\u699c","\u4fc4\u8bed\u699c","\u8d8a\u5357\u8bed\u699c"],i=[],u=[],o=[],l=[],d=0;d<e.length;d++)if(e[d].tracks.length&&!e[d+1].tracks.length){t=d+1;break}n=e.slice(0,t);var p,f=e.slice(t),b=Object(c.a)(f);try{var j=function(){var e=p.value;return r.some((function(t){return t===e.name}))?(i.push(e),"continue"):a.some((function(t){return t===e.name}))?(u.push(e),"continue"):s.some((function(t){return t===e.name}))?(o.push(e),"continue"):void l.push(e)};for(b.s();!(p=b.n()).done;)j()}catch(m){b.e(m)}finally{b.f()}return[n,i,u,o,l]},p=function(){var e=document.createElement("div").style,t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransfrom",ms:"msTransform",standard:"Transform"};for(var n in t)if(void 0!==e[t[n]])return n;return!1}();function f(e){return!1===p?"":"standard"===p?e:p+e.charAt(0).toUpperCase()+e.substr(1)}function b(e){return"https://music.163.com/song/media/outer/url?id=".concat(e,".mp3")}var j=function(e){var t=0|e,n=t/60|0,r=(t%60).toString().padStart(2,"0");return"".concat(n,":").concat(r)},m=function(e,t){return t.findIndex((function(t){return t.id===e.id}))},O=function(e){for(var t=Object(r.a)(e),n=[t.length,0],c=n[0],a=n[1];c;){var s=[t[a=Math.random()*c-->>>0],t[c]];t[c]=s[0],t[a]=s[1]}return t},h=function(e){return e.map((function(e){switch(e){case"songs":return"\u6b4c\u66f2";case"artists":return"\u6b4c\u624b";case"albums":return"\u4e13\u8f91";case"playlists":return"\u6b4c\u5355";default:return"--"}}))};function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return s.a.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(y(e)):i.isFragment(e)&&e.props?n=n.concat(y(e.props.children,t)):n.push(e))})),n}}},[[138,1,2]]]);
//# sourceMappingURL=main.22b558e3.chunk.js.map