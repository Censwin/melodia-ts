(this["webpackJsonpmelodia-ts"]=this["webpackJsonpmelodia-ts"]||[]).push([[3],{142:function(e,c,t){"use strict";t.r(c);var s=t(18),a=t(0),n=t.n(a),r=t(139),l=t(13),i=t(31),j=t(12),b=t(9),o=t(28),d=t(33),O=t(6),u=t(1),m=function(){var e=Object(l.g)(),c=Object(l.h)().id,t=Object(o.c)(),n=Object(o.d)((function(e){return e.Album})).currentAlbum,m=Object(a.useState)(!0),x=Object(s.a)(m,2),p=x[0],h=x[1],f=Object(a.useState)("\u6b4c\u5355"),v=Object(s.a)(f,2),N=v[0],k=(v[1],Object(a.useState)(!1)),g=Object(s.a)(k,2),y=g[0],C=(g[1],Object(a.useState)(!1)),w=Object(s.a)(C,2),A=w[0],S=w[1],E=Object(a.useRef)(null);Object(a.useEffect)((function(){t({type:d.a,payload:{id:c}})}),[c]);var I=n.coverImgUrl,U=n.name,q=n.creator,J=n.description,P=n.subscribedCount,R=n.commentCount,B=n.shareCount,F=n.tracks,z=function(e,c){t({type:O.a,payload:c})},D=function(){t({type:O.a,payload:F})},G=Object(a.useCallback)((function(){return Object(u.jsx)("section",{className:"top-desc-wrapper",children:Object(u.jsxs)("div",{className:"info-wrapper",children:[Object(u.jsxs)("article",{className:"info-left",children:[Object(u.jsx)("img",{className:"cover-pic",src:I+"?param=300x300"}),Object(u.jsxs)("div",{className:"play-count",children:[Object(u.jsx)(j.b,{icon:"play"}),Object(b.f)(P)]})]}),Object(u.jsxs)("article",{className:"info-right",children:[Object(u.jsx)("p",{className:"album-title",children:U}),Object(u.jsxs)("article",{className:"creator",children:[Object(u.jsx)("div",{className:"avatar",children:Object(u.jsx)("img",{src:q.avatarUrl+"?param=100x100"})}),Object(u.jsx)("div",{className:"creator-name",children:q.nickname}),Object(u.jsx)("div",{className:"description",children:A?Object(u.jsx)(i.e,{text:J}):Object(u.jsx)("span",{onClick:function(){return S(!0)},children:J})})]})]})]})})}),[n,A]),H=Object(a.useCallback)((function(){return Object(u.jsx)("section",{className:"control-bar-wrapper",children:Object(u.jsxs)("div",{className:"control-bar",children:[Object(u.jsxs)("span",{children:[Object(u.jsx)(j.b,{icon:"plus-square"}),Object(u.jsx)("i",{children:P})]}),"|",Object(u.jsxs)("span",{children:[Object(u.jsx)(j.b,{icon:"comment-dots"}),Object(u.jsx)("i",{children:R})]}),"|",Object(u.jsxs)("span",{children:[Object(u.jsx)(j.b,{icon:"share-square"}),Object(u.jsx)("i",{children:B})]})]})})}),[n]),K=Object(a.useCallback)((function(){return Object(u.jsx)(i.b,{songs:F,onClickCallback:z,showPlayAll:!0,onClickPlayAll:D})}),[n]);return Object(u.jsx)(r.a,{in:p,appear:!0,classNames:"common-fadeInUp",timeout:300,unmountOnExit:!0,onExited:e.goBack,nodeRef:E,children:Object(u.jsxs)("div",{className:"album-container",ref:E,children:[Object(u.jsx)("div",{className:"bg-decorate"}),Object(u.jsx)(i.c,{style:{color:"#fff"},title:N,handleClick:function(e){return h(!1)},rolling:y}),!Object(b.i)(n)&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"background",style:{backgroundImage:"url(".concat(I,")")}}),Object(u.jsx)("div",{className:"scroll-window-wrapper",children:Object(u.jsx)(i.g,{children:Object(u.jsxs)("div",{children:[G(),H(),K()]})})})]})]})})};c.default=n.a.memo(m)}}]);
//# sourceMappingURL=3.9789e878.chunk.js.map