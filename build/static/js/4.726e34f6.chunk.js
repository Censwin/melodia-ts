(this["webpackJsonpmelodia-ts"]=this["webpackJsonpmelodia-ts"]||[]).push([[4],{140:function(e,c,n){"use strict";n.r(c);var a=n(0),s=n.n(a),t=n(28),r=n(12),i=n(46),l=n(9),j=n(13),d=n(31),o=n(35),m=n(1),b=[{icon:"calendar-week",name:"\u6bcf\u65e5\u63a8\u8350",path:"/recommend"},{icon:"stream",name:"\u6b4c\u5355",path:"/recommend"},{icon:"sort-amount-up",name:"\u6392\u884c\u699c",path:"/rank"},{icon:"street-view",name:"\u6b4c\u624b",path:"/search"}],h=function(e){var c=e.bannerList,n=e.recommendList,s=e.videoUrl,h=(e.route,Object(t.c)()),u=Object(j.g)();Object(a.useEffect)((function(){c.length||h({type:i.a.GET_BANNER}),n.length||h({type:i.a.GET_RECOMMEND}),h({type:i.a.GET_VIDEO_URL})}),[]);var O=Object(a.useRef)(null);Object(a.useEffect)((function(){var e;null===(e=O.current)||void 0===e||e.refresh()}));var p=Object(a.useCallback)((function(e){var c=e.path;return Object(m.jsxs)("div",{className:"more-btn-wrapper",onClick:function(){return u.push(c)},children:[Object(m.jsx)("span",{children:"\u66f4\u591a"}),Object(m.jsx)(r.b,{icon:"angle-right"})]})}),[]),x=Object(a.useCallback)((function(e){u.push("/album/".concat(e))}),[]),v=Object(a.useCallback)((function(){return n.map((function(e){return Object(m.jsxs)("div",{className:"recommend-item horizen-item",onClick:function(c){return x(e.id)},children:[Object(m.jsx)("img",{className:"recommend-item-pic",src:e.picUrl+"?param=300x300"}),Object(m.jsxs)("div",{className:"play-count",children:[Object(m.jsx)(r.b,{icon:"play"}),Object(l.f)(e.playCount)]}),Object(m.jsx)("span",{className:"recommend-item-name",children:e.name})]},e.id)}))}),[n]),f=Object(a.useCallback)((function(){return b.map((function(e){return Object(m.jsx)("div",{className:"channel-entity",children:Object(m.jsxs)(o.b,{to:e.path,className:"c-blocka",children:[Object(m.jsx)("div",{className:"channel-icon-wrapper",children:Object(m.jsx)("div",{className:"channel-icon-bg",children:Object(m.jsx)(r.b,{icon:e.icon})})}),Object(m.jsx)("p",{className:"channel-name",children:e.name})]})},e.name)}))}),[]);return Object(m.jsxs)("div",{className:"discover-content",children:[Object(m.jsxs)("div",{className:"Header",children:[Object(m.jsx)("div",{className:"searchBar",onClick:function(){u.push("/search")},children:Object(m.jsxs)("span",{children:[Object(m.jsx)(r.b,{icon:"search"}),Object(m.jsx)("span",{children:"\u5468\u6770\u4f26"})]})}),Object(m.jsx)("span",{onClick:function(){return r.c.info("\u8fd9\u91cc\u5565\u4e5f\u6ca1\u6709")},children:Object(m.jsx)(r.b,{icon:"bars",className:"header-more"})})]}),Object(m.jsx)("div",{className:"scroll-window-wrapper",children:Object(m.jsx)(d.g,{ref:O,children:Object(m.jsxs)("div",{children:[Object(m.jsx)(r.d,{imgList:c}),Object(m.jsx)("div",{className:"channel-list",children:f()}),Object(m.jsx)(r.a,{headerClassName:"discover-card-header",title:"\u63a8\u8350\u6b4c\u5355",extra:Object(m.jsx)(p,{path:"/recommend"}),children:Object(m.jsx)(d.d,{children:Object(m.jsx)("div",{className:"recommend-wrapper",children:v()})})}),Object(m.jsx)(r.a,{headerClassName:"discover-card-header",title:"\u7cbe\u9009\u97f3\u4e50\u89c6\u9891",extra:Object(m.jsx)(p,{path:"/recommend"}),children:Object(m.jsx)("div",{className:"video-list-wrapper",children:Object(m.jsx)("video",{autoPlay:!0,src:s,muted:!0,children:"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 video \u6807\u7b7e\u3002"})})})]})})})]})};c.default=Object(t.b)((function(e){var c=e.Discover;return{bannerList:c.bannerList,recommendList:c.recommendList,videoUrl:c.videoUrl}}))(s.a.memo(h))}}]);
//# sourceMappingURL=4.726e34f6.chunk.js.map